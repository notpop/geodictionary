(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{892:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var l=s(5155),r=s(2115),n=s(2619),a=s.n(n),i=s(3449);function c(e){let{level:t,module:s,moduleIndex:n,prevModule:c,nextModule:d}=e,[o,x]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{x((0,i.y4)().completedModules.includes(s.id))},[s.id]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("span",{className:"bg-primary text-white w-10 h-10 rounded-xl flex items-center justify-center font-bold",children:n+1}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-primary font-medium",children:t.title}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:s.title})]})]}),(0,l.jsx)("p",{className:"text-slate-600",children:s.description})]}),s.images&&s.images.length>0&&(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"参考画像"}),(0,l.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:s.images.map((e,t)=>(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-slate-100",children:[(0,l.jsx)("img",{src:e.url,alt:e.caption,className:"w-full h-full object-contain",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect fill="%23f1f5f9" width="100" height="100"/><text fill="%2394a3b8" x="50%" y="50%" text-anchor="middle" dy=".3em" font-size="12">画像読込エラー</text></svg>'}}),e.source&&(0,l.jsx)("span",{className:"absolute bottom-1 right-1 text-xs bg-black/60 text-white px-1.5 py-0.5 rounded",children:e.source})]}),(0,l.jsx)("p",{className:"text-sm text-slate-600 text-center",children:e.caption})]},t))})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"学習ポイント"}),(0,l.jsx)("div",{className:"space-y-4",children:s.points.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-xl",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-primary/10 text-primary rounded-lg flex items-center justify-center font-bold flex-shrink-0",children:t+1}),(0,l.jsx)("p",{className:"text-slate-700 leading-relaxed pt-1",children:e})]},t))})]}),(0,l.jsx)("div",{className:"rounded-2xl p-6 ".concat(o?"bg-green-50":"bg-amber-50"),children:o?(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"✅"}),(0,l.jsx)("h3",{className:"font-bold text-green-800 mb-2",children:"このモジュールは完了しています"}),(0,l.jsx)("p",{className:"text-sm text-green-700",children:"次のモジュールに進むか、クイズで復習しましょう。"})]}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-bold text-amber-800 mb-3",children:"ポイントを覚えましたか？"}),(0,l.jsx)("button",{onClick:()=>{(0,i.Kj)(s.id),x(!0)},className:"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors",children:"このモジュールを完了にする"})]})}),s.quiz&&s.quiz.length>0&&(0,l.jsx)("div",{className:"bg-blue-50 rounded-2xl p-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"text-3xl",children:"\uD83C\uDFAF"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-bold text-blue-800",children:"クイズで確認"}),(0,l.jsx)("p",{className:"text-sm text-blue-700",children:"このモジュールの内容をクイズで確認しましょう。"})]}),(0,l.jsx)(a(),{href:"/quiz",className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-sm font-medium hover:bg-blue-700 transition-colors",children:"クイズへ"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[c?(0,l.jsxs)(a(),{href:"/learn/".concat(t.id,"/").concat(c.id),className:"flex items-center gap-2 text-slate-600 hover:text-primary",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,l.jsx)("span",{className:"text-sm",children:c.title})]}):(0,l.jsx)("div",{}),d?(0,l.jsxs)(a(),{href:"/learn/".concat(t.id,"/").concat(d.id),className:"flex items-center gap-2 text-primary hover:text-primary/80",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:d.title}),(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):(0,l.jsxs)(a(),{href:"/learn",className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"カリキュラムに戻る"}),(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})}},3449:(e,t,s)=>{"use strict";s.d(t,{AJ:()=>o,Kj:()=>i,cG:()=>d,sh:()=>c,y4:()=>r});let l="geoguessr-japan-progress";function r(){let e=localStorage.getItem(l);if(!e)return a();try{return JSON.parse(e)}catch(e){return a()}}function n(e){e.lastUpdated=new Date().toISOString(),localStorage.setItem(l,JSON.stringify(e))}function a(){return{completedModules:[],quizScores:{},totalQuizzesTaken:0,correctAnswers:0,currentLevel:1,lastUpdated:new Date().toISOString()}}function i(e){let t=r();t.completedModules.includes(e)||(t.completedModules.push(e),n(t))}function c(e,t,s){let l=r();l.totalQuizzesTaken+=t,l.correctAnswers+=e;let a=l.correctAnswers/l.totalQuizzesTaken;l.totalQuizzesTaken>=10&&a>=.8&&l.currentLevel<2?l.currentLevel=2:l.totalQuizzesTaken>=30&&a>=.7&&l.currentLevel<3?l.currentLevel=3:l.totalQuizzesTaken>=50&&a>=.75&&l.currentLevel<4?l.currentLevel=4:l.totalQuizzesTaken>=80&&a>=.8&&l.currentLevel<5?l.currentLevel=5:l.totalQuizzesTaken>=120&&a>=.85&&l.currentLevel<6&&(l.currentLevel=6),n(l)}function d(e){return 0===e.totalQuizzesTaken?0:Math.round(e.correctAnswers/e.totalQuizzesTaken*100)}function o(e){return["","入門","基礎","中級","上級","エキスパート","マスター"][e]||"入門"}},9640:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2619,23)),Promise.resolve().then(s.bind(s,892))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9640)),_N_E=e.O()}]);